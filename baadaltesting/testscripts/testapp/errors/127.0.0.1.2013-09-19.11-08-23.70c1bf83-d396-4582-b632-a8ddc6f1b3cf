(dp1
S'output'
p2
S"<type 'exceptions.SyntaxError'> 'break' outside loop (test.py, line 534)"
p3
sS'layer'
p4
S'/home/baadalvm/Desktop/web2py/applications/testapp/models/test.py'
p5
sS'code'
p6
S'# coding: utf8\nimport os\nimport thread\nimport logging\nimport datetime\nimport logging.config\nfrom selenium import webdriver\nfrom selenium.webdriver.common.desired_capabilities import DesiredCapabilities\nfrom helper import xml_connect\nfrom helper import db_connection\nfrom selenium.webdriver.common.keys import Keys\nimport sys\nimport time\n#creating a logger for logging the records\nlogger = logging.getLogger("web2py.app.testapp")\n\n#creating connection to remote database\nbaadal_db=db_connection() \n\n\n\n#################################################################################################################\n#                             The main test function for stress\n                                           #\n#################################################################################################################\ndef stress_script(m):\n    \n    \n    logging.debug("inside thread: "+str(m))\n    \n    root = xml_connect()\n    i=m\n    for j in xrange(0,len(root[i])): \n        driver = webdriver.Remote(\n       command_executor=\'http://127.0.0.1:4444/wd/hub\',\n       desired_capabilities=DesiredCapabilities.FIREFOX)#connect to selenium server\n        driver.implicitly_wait(10)\n        driver.get(root.get("url")) #url of the page to be hit \n        driver.find_element_by_link_text(root.get("href")).click()\n        \n        for k in xrange(0,len(root[i][j])):\n            field_type=root[i][j][k].get("type")\n            xml_parent=root[i]\n            xml_child=root[i][j]\n            xml_sub_child=root[i][j][k]\n\t\t\t\t\t\n            if field_type=="input": #checking for text fields\n                vm_name1=isInput(driver,xml_sub_child)\n                      \n            elif field_type=="read_only": #checking for submit button\n                isReadOnly(driver, xml_parent,xml_child,xml_sub_child)\n\t\t\t\t\t\t\n            elif field_type=="submit": #checking for submit button\n                isSubmit(driver, xml_parent,xml_child,xml_sub_child)\n                driver.implicitly_wait(10)\n\t\t\t\t\t\t\n            elif field_type=="button":#checking for button\n                time.sleep(3)\n                isButton(driver,xml_sub_child)\n\t\t\t\t\t\n            elif field_type=="scroll":#scrolling the page up/down\n                isScroll(driver,xml_sub_child)\n\t\t\t\t \t\t\n            elif field_type=="href":\n                isHref(driver,xml_sub_child)#clicking on the hyper link\n                        \n            elif field_type=="select":\n                isSelect(driver,xml_sub_child)# selecting from dropdown menu\n\t\t\t \t\n            elif field_type=="table":\n                isTable(driver,xml_parent,xml_child,xml_sub_child)#checking for data in table\n                         \n            elif field_type=="img":#checking for setting image\n                table_path=xml_sub_child.get("path")\n                isImage(driver,xml_child,xml_sub_child,table_path)\n\t\t\t\t\t\t\t\t\n            elif field_type=="check_tables":#cheking for host table\n                isCheckTable(driver,xml_parent,xml_child,xml_sub_child)\n                \n            elif field_type=="wait":\n                isWait(driver,xml_parent,xml_child,xml_sub_child)#checking for data in table\n                    \n            elif field_type=="check_data":\n                isCheckdata(driver,vm_name,xml_parent,xml_child,xml_sub_child)#checking for data in table\n                        \t\t\t\t\n            else:\n                logging.debug("report problem") #logging the report\n                \n            if k==5:\n                vm_name=vm_name1\n        driver.close()#disconnect from server\n\n\ndef stress_test_script():\n    for m in range(0,5):\n        root = xml_connect()\n        total_scripts=root.get("total_scripts")\n        test_no=m%(int(total_scripts)-1)\n        thread.start_new_thread( stress_script,(test_no,) )\n        thread.start_new_thread( stress_script,(test_no,) )\n        thread.start_new_thread( stress_script,(test_no,) )\n        thread.start_new_thread( stress_script,(test_no,) )\n        thread.start_new_thread( stress_script,(test_no,) )\n        thread.start_new_thread( stress_script,(test_no,) )\n        thread.start_new_thread( stress_script,(test_no,) )\n        thread.start_new_thread( stress_script,(test_no,) )\n        \n        logging.debug("Thread: "+str(m))\n        \n    return\n\n\n    \n\n#################################################################################################################\n#                                       The main test function  for unit testing                                            #\n#################################################################################################################\n\t\t\ndef test_script(test_case_no):\n    print test_case_no\n    root = xml_connect()\n    num=int(test_case_no)\n    if root[num-1].get("id")==test_case_no:\n        i=num-1\n        vm_name=""\n        for j in xrange(0,len(root[i])):\n            driver = webdriver.Remote(command_executor=\'http://127.0.0.1:4444/wd/hub\', desired_capabilities=DesiredCapabilities.FIREFOX)#connect to selenium server#connect to selenium server\n            driver.implicitly_wait(10)\n            driver.get(root.get("url")) #url of the page to be hit \n            driver.find_element_by_link_text(root.get("href")).click()\n            for k in xrange(0,len(root[i][j])):\n                field_type=root[i][j][k].get("type")\n                xml_parent=root[i]\n                xml_child=root[i][j]\n                xml_sub_child=root[i][j][k]\n\t\t\t\t\t\n                if field_type=="input": #checking for text fields\n                    vm_name1=isInput(driver,xml_sub_child)\n                      \n                elif field_type=="read_only": #checking for submit button\n                    isReadOnly(driver, xml_parent,xml_child,xml_sub_child)\n\t\t\t\t\t\t\n                elif field_type=="submit": #checking for submit button\n                    isSubmit(driver, xml_parent,xml_child,xml_sub_child)\n\t\t\t\t\t\t\n                elif field_type=="button":#checking for button\n                    time.sleep(3)\n                    isButton(driver,xml_sub_child)\n\t\t\t\t\t\n                elif field_type=="scroll":#scrolling the page up/down\n                    isScroll(driver,xml_sub_child)\n\t\t\t\t \t\t\n                elif field_type=="href":\n                    isHref(driver,xml_sub_child)#clicking on the hyper link\n                    \n                elif field_type=="select":\n                    isSelect(driver,xml_sub_child)# selecting from dropdown menu\n\t\t\t \t\n                elif field_type=="table":\n                    isTable(driver,xml_parent,xml_child,xml_sub_child)#checking for data in table\n                         \n                elif field_type=="img":#checking for setting image\n                    table_path=xml_sub_child.get("path")\n                    isImage(driver,xml_child,xml_sub_child,table_path)\n\t\t\t\t\t\t\t\t\n                elif field_type=="check_tables":#cheking for host table\n                    isCheckTable(driver,xml_parent,xml_child,xml_sub_child)\n                \n                elif field_type=="wait":\n                    isWait(driver,xml_parent,xml_child,xml_sub_child)#checking for data in table\n                    \n                elif field_type=="check_data":\n                    isCheckdata(driver,vm_name,xml_parent,xml_child,xml_sub_child)#checking for data in table\n                        \t\t\t\t\n                else:\n                    logging.debug("report problem") #logging the report\n                \n                if k==5:\n                    vm_name=vm_name1\n            driver.close()#disconnect from server\n           \n###############################################################################################################\n#                             Functions used by the input field functions                                     #\n###############################################################################################################\t\t\n\n# checking whether an element is present on the webpage\ndef isElementPresent(driver,xml_child,xpath):\n    try:\n        driver.find_element_by_xpath(xpath)\n        return 1\n    except:\n        logger.debug(xml_child.get("value") +\': Result:no table exists\')\n        return 0\t\n   \n\t\t\n#checking whether front end data and daatabase entries are equal and printing the result \t\t\ndef print_result(field_text,result,xml_child):\n\tquery_result=str(result)\n        logger.debug("screen=  "+str(field_text) )\n        logger.debug("db=      "+query_result)\n\tif field_text ==query_result:\n\t\tlogger.debug(xml_child.get("value") +\': Result:correct input\') \n\telse:\n\t\tlogger.debug(xml_child.get("value") +\': Result:Incorrect input\')\n\treturn \n\t\ndef open_error_page(driver,xml_parent,text,row_count):#open error link on differnet page\n\t(driver.find_elements_by_link_text(text))[row_count].click()\n\tfield=driver.find_element_by_xpath(xml_parent.get("error_page"))\n\terror_message=field.text\n\tdriver.find_element_by_link_text(xml_parent.get("error_page_close_text")).click()\n\treturn error_message\n\t\ndef admin_vm_status(status):#converting vm status bits into status text\n    logger.debug("in")\n    vm_status={0:"Running",1:"Paused",2:"Shutdown"}\n    if status==4:\n        result=vm_status[0]\n    if status==5:\n        result=vm_status[1]\n    if status==6:\n        result=vm_status[2]\n    return result \n    \t\ndef host_status(status):#converting host status bits into status text\n\thost_status={0:"Down",1:"Up",2:"Maintenance"}\t\n\tif status==0:\n\t\tresult=host_status[0]\n\tif status==1:\n\t\tresult=host_status[1]\n\tif status==2:\n\t\tresult=host_status[2]\n\treturn result\n\t\n\t\ndef org_task_status(status,name):#converting  status bits into status text\n    task_status={0:"Approve  |  Reject",1:"Installation In Progress",2:"Remind Faculty"}\n    if\t(status==0 | status==2) & (name=="org_admin_pending_tasks") :\n        result=task_status[0]\n    if (status==3) & (name=="org_admin_pending_tasks"):\n        result=task_status[1]\n    if (status==0) & (name=="faculty_pending_tasks"):\n        result=task_status[2]\n    return result\n\t\ndef execute_query(sql_query,arg=None):\n    cursor=baadal_db.cursor()\n    if arg==None:\n        cursor.execute(sql_query)\n    else:\n        cursor.execute(sql_query,arg)\n    return cursor\n    \ndef click_on_dialogbox(driver):\n    alert = driver.switch_to_alert()\n    alert.accept()\n    click_on_dialogbox(driver)\n    return\n    \n \n\ndef vm_running(xml_child,xml_sub_child,driver):\n    print "in"\n    query_result=execute_query( xml_sub_child.get("query3")).fetchall()\n    col_count=len(query_result[0])\n    row_count=len(query_result)\n    print len(query_result)\n    for length in range(0,(row_count)):\n        print length\n        status=query_result[length][col_count-1]\n        if status==4:\n            \n            id=xml_sub_child.get("id")\n            vm_id=query_result[length][1]\n            print  vm_id\n            driver.find_element_by_xpath("//*[@href=\'/baadal/user/"+ str(id) +"/"+ str(vm_id) +"\']").click()\n            vm_name=query_result[length][0]\n            logger.debug(xml_child.get("value") +\': Result:Setting button works properly\')\n            return vm_name\n        if (status==5) | (status==6):\n            if row_count==length: \n                logger.debug("No VM exist which is in running state,So Please Run a VM before doing this testing")\n                return vm_name\n            length+=1\n            continue\n     \ndef vm_paused(xml_child,xml_sub_child,driver):\n    query_result=execute_query( xml_sub_child.get("query3")).fetchall()\n    col_count=len(query_result[0])\n    row_count=len(query_result)\n    for length in range(0,(row_count)):\n        status=query_result[length][col_count-1]\n        if status==5:\n            id=xml_sub_child.get("id")\n            vm_id=query_result[length][1]\n            driver.find_element_by_xpath("//*[@href=\'/baadal/user/"+ str(id) +"/"+ str(vm_id) +"\']").click()\n            vm_name=query_result[length][0]\n            logger.debug(xml_child.get("value") +\': Result:Setting button works properly\')\n            return vm_name\n        if (status==4) | (status==6):\n            if row_count==length: \n                logger.debug("No VM exist which is in paused mode,So Please Paused a VM before doing this testing")\n                return vm_name\n            length+=1\n            continue\n            \ndef vm_shutdown(xml_child,xml_sub_child,driver):\n    query_result=execute_query( xml_sub_child.get("query3")).fetchall()\n    col_count=len(query_result[0])\n    row_count=len(query_result)\n    for length in range(0,(row_count)): \n        status=query_result[length][col_count-1]\n        if status==6:\n            id=xml_sub_child.get("id")\n            vm_id=query_result[length][1]\n            driver.find_element_by_xpath("//*[@href=\'/baadal/user/"+ str(id) +"/"+ str(vm_id) +"\']").click()\n            logger.debug(xml_child.get("value") +\': Result:Setting button works properly\')\n            vm_name=query_result[length][0]\n            print "query_result" + str(vm_name)\n            return vm_name\n        if (status==5) | (status==4):\n            if length==(row_count-1): \n                vm_name=""\n                logger.debug("No VM exist which is in shutdown mode,So Please Shutdown a VM before doing this testing")\n                return vm_name\n            length+=1\n            continue\n            \n            \ndef result_setting_page(field,query_result,driver,xml_child,xml_sub_child):\n    i=0\n    for t in field:\n        print "screen=" + str(t.text)\n        print "db=" + str(query_result[i][0])\n        if str(query_result[i][0]) in t.text:\n            logger.debug("correct inputs")\n        else :\n            logger.debug("Incorrect inputs")\n        i+=1 \n    return\n            \ndef check_snapshot(vm_name,driver,xml_child,xml_sub_child):\n \n    logger.debug("Checking for entries in current snapshot table")\n    path="//table[@id=\'vm_snaps\']/tbody/tr"\n    if isElementPresent(driver,xml_child,path):\n        query_result=execute_query(xml_sub_child.get("query4"),(str(vm_name))).fetchall()\n        total_snap=len(query_result)\n        print query_result\n        field=driver.find_elements_by_xpath(xml_sub_child.get("xpath_snap"))\n        result_setting_page(field,query_result,driver,xml_child,xml_sub_child)\n        return total_snap\n        \n    \ndef check_user(driver,xml_child,xml_sub_child,vm_name):\n    query_result=execute_query( xml_sub_child.get("query5"),(str(vm_name))).fetchall()\n    field=driver.find_elements_by_xpath(xml_sub_child.get("xpath_user"))\n    logger.debug("Checking for entries in Additional user table")\n    result_setting_page(field,query_result,driver,xml_child,xml_sub_child)\n    return\n\n \ndef check_vm_configuration(driver,xml_child,xml_sub_child,vm_name):\n    query_result=execute_query( xml_sub_child.get("query6"),(str(vm_name))).fetchall()\n    field=driver.find_elements_by_xpath(xml_sub_child.get("xpath_conf"))\n    logger.debug("Checking for entries in VM Configuration table")\n    i=0\n    for t in field:\n        print "screen=" + str(t.text)\n        print "db=" + str(query_result[0][i])\n        if str(query_result[0][i]) in t.text:\n            logger.debug("correct inputs")\n        else :\n            logger.debug("Incorrect inputs")\n        i+=1\n    return\n\n                       \n\'\'\'def check_vm_in_pending_task():\n    if islement present():\n\t\tfield=find_elements_by_xpath("")\n\t\tcount=0\n\t\tc=0\n\t\twhile True:\n\t\t\tfor x in field:\n\t\t\t\tif vm_name in x.text & vm_operation in x.text :\n\t\t\t\t\tcount+=1\n\t\t\t\t\treturn True\n\t\t\t\telse:\n\t\t\t\t\tif count==0:\n\t\t\t\t\t\tlogger.debug("Error:VM doesnt exist in pending task table")\n\t\t\t\t\telse:\n\t\t\t\t\t\tcontinue\n\t\t\t\tif count<c:\n\t\t\t\t\tchecking_operations_in_completed_task()\n                    return False\n\treturn\t\n\t\n\t\ndef checking_vm_in_completed_task():\n\tdriver.find_element_by_partial_link_text("").click()\n\tfield=find_elements_by_xpath("")\n\tcount=0\n\tfor x in field:\n\t\tif vm_name in x.text & vm_operation in x.text :\n\t\t\tcount+=1\n\t\t\tlogger.debug("Your request has completed")\n\t\t\tbreak\n\t\telse:\n\t\t\tcontinue\n\tif count==0:\n\t\tlogger.debug("Error:VM doesnt exist in completed task table")\n\t\tchecking_operations_in_failed_task()\n\treturn\n\t\n\t\ndef checking_vm_in_failed_task():\n\tdriver.find_element_by_partial_link_text("").click()\n\tfield=find_elements_by_xpath("")\n\tcount=0\n\tfor x in field:\n\t\tif vm_name in x.text & vm_operation in x.text :\n\t\t\tcount+=1\n\t\t\tlogger.debug("Your request has failed")\n\t\t\tbreak\n\t\telse:\n\t\t\tcontinue\n\tif count==0:\n\t\tlogger.debug("Error:VM Niether exist in failed task table nor in completed task table")\n\treturn\'\'\'\n\t\t\t                                                                    \n##############################################################################################################\n#  \t\t\t\t\t           functions for various types of input fields  \t\t\t\t          \t     #\n##############################################################################################################\n\t\t\ndef isInput(driver, xml_sub_child):\n    current_time=datetime.datetime.now().strftime("%Y-%m-%d_%H-%M-%S")\n    field = driver.find_element_by_id(xml_sub_child.get("id"))\n    if xml_sub_child.text!=None:\n        field.send_keys(xml_sub_child.text) # sending the user name/password/vm name/purpose etc\n    else:\n        if not (xml_sub_child.get("id") in ["user_password","user_username"]):\n            field.send_keys(str(current_time))\t\n    return current_time\n\t\ndef isReadOnly(driver, xml_parent,xml_child,xml_sub_child):\n    current_time=datetime.datetime.now().strftime("%Y-%m-%d_%H-%M-%S")\n    field = driver.find_element_by_id(xml_sub_child.get("id"))\n    if field.get_attribute("value")!=\'\':\n        field.send_keys(xml_sub_child.text) # sending the user name/password/vm name/purpose etc\n        if field.get_attribute("value")==xml_sub_child.text:\n            logger.debug(xml_child.get("value")  +\': Result:error\') #logging the report\n        else:\n            logger.debug(xml_child.get("value")  +\': Result:no error\') #logging the report\n    else:\n        logger.debug(xml_child.get("value")  +\': Result:empty\') #logging the report\n    return \n\ndef isWait( driver, xml_parent, xml_child, xml_sub_child):\n    time.sleep(3)\n    return\n\ndef isSubmit( driver, xml_parent, xml_child, xml_sub_child):\n    current_time=datetime.datetime.now()\n    user_name=xml_child.find(\'user_name\').text\n    driver.find_element_by_xpath(xml_sub_child.text).click()\n    xpath=xml_parent.get("xpath")\n    status=isElementPresent(driver,xml_child,xpath)\n    field=driver.find_element_by_xpath(xpath)\n    if status==1:\n        if ("Logout" in field.get_attribute("innerHTML")):\n             logger.debug(xml_child.get("value")  +\': Result:Valid Login\') #logging the report\n        else:\n            logger.debug(xml_child.get("value")  +\': Result:Invalid Login\') #logging the report \n    else:\n        logger.debug(xml_child.get("value") +\': Result:error\') #logging the report\n    return\n\t\ndef isButton(driver, xml_sub_child):\n\tdriver.find_element_by_xpath(xml_sub_child.text).click()\n\treturn\n\t\t\t\ndef isScroll(driver, xml_sub_child):\n\tfield=driver.find_element_by_tag_name("html")\n\tfield.send_keys(xml_sub_child.text)\n\tdriver.execute_script("window.scrollBy(0,200)", "")\n\treturn\n\t\ndef isHref(driver, xml_sub_child):\n\tdriver.find_element_by_partial_link_text(xml_sub_child.text).click()\n\treturn\n\ndef isSelect(driver, xml_sub_child):\n\tdriver.find_element_by_xpath(xml_sub_child.text).click()\n\treturn\n\t\ndef isImage(driver,xml_child,xml_sub_child,a):\t\n    k=0\n    vm_name1=""\n    if isElementPresent(driver,xml_child,a):\n        if xml_sub_child.get("name")=="vm_running_Setting":\n            vm_name=vm_running(xml_child,xml_sub_child,driver)\n            check_snapshot(vm_name,driver,xml_child,xml_sub_child)\n            check_user(driver,xml_child,xml_sub_child,vm_name)\n            check_vm_configuration(driver,xml_child,xml_sub_child,vm_name) \n            \n            k+=1\n           \n        if xml_sub_child.get("name")=="vm_paused_Setting":\n            vm_name=vm_paused(xml_child,xml_sub_child,driver)\n            k+=1\n        if xml_sub_child.get("name")=="vm_shutdown_Setting":\n            vm_name=vm_shutdown(xml_child,xml_sub_child,driver)\n            total_snap=check_snapshot(vm_name,driver,xml_child,xml_sub_child)\n            check_user(driver,xml_child,xml_sub_child,vm_name)\n            check_vm_configuration(driver,xml_child,xml_sub_child,vm_name) \n            print vm_name\n            print total_snap\n            k+=1\n        if xml_sub_child.get("name")=="Snapshot":\n            print "in_shutdown"\n            field=driver.find_element_by_xpath(xml_sub_child.get("xpath_conf"))\n            conf_result=field.text\n            print conf_result\n            table_data=conf.split()\n            vm_name=table_data[0]\n            print vm_name\n            query_result=execute_query( xml_sub_child.get("query"),(str(vm_name))).fetchall()\n            print query_result\n            length=len(query_result)\n            print len(query_result)\n            if str(length)==xml_sub_child.get("max"):\n                logger.debug("Snaphot limit reached.Delete previous snapshots to take new snapshot")\n                break\n            else :       \n                driver.find_element_by_xpath(xml_sub_child.text).click()\n                logger.debug("Your VM Snapshoting request has been queued")\n        else :\n            driver.find_element_by_xpath(xml_sub_child.text).click()\n            logger.debug("This VM operations is working correctly")\n            if (xml_sub_child.get("name")=="Setting_with_dialogbox") | (xml_sub_child.get("name")=="Delete") :\n                click_on_dialogbox(driver) \n       \n       \n        if k==1:\n           vm_name1=vm_name\n    return\n    \ndef isTable(driver,xml_parent,xml_child,xml_sub_child):\n    status_list={0:"Error",1:"failed_tasks",2:"TRY AGAIN | IGNORE",3:"my_pending_vm",4:"Waiting for admin approval",5:"faculty_pending_tasks",6:"Add_host",7:"org_admin_pending_tasks",8:"org_admin_all_tasks",9:"list_all_vm"}\n    table_path=xml_sub_child.text\n    if isElementPresent(driver,xml_child,table_path):\n        query_result=execute_query( xml_parent.get("query3")).fetchall()\n        length=len(query_result[0])#calculate number of columns of query\n        row_count=0 #number of rows in the table\n        col_count=0 #number of columns in the table\n        field=driver.find_elements_by_xpath(xml_sub_child.text)#data from gui\n        for col in field:\n            field_text=col.text\n            if (field_text!="") & (field_text!="Install"):\n                if field_text==status_list[0]:\n                    text=open_error_page(driver,xml_parent,field_text,row_count)\n                    result=query_result[row_count][col_count]#data form query\n                    print_result(text,result,xml_child)\n                    \n                elif (query_result[row_count][col_count]==4) & (xml_parent.get("name")==status_list[1]):\n                    result=status_list[2]\n                    print_result(field_text,result,xml_child)\n                \n                elif (col_count%int(length)==7) & (xml_parent.get("name")==status_list[9]):\n                    status=query_result[row_count][col_count]\n                    result=admin_vm_status(status)\n                    print_result(field_text,result,xml_child)\n                    \n                elif (query_result[row_count][col_count]==2) & (xml_parent.get("name")==status_list[3]):\n                    result=status_list[4]\n                    print_result(field_text,result,xml_child)\n\n                elif (col_count%int(length)==6) & ((xml_parent.get("name")==status_list[5]) | (xml_parent.get("name")==status_list[7]) | (xml_parent.get("name")==status_list[8])):\n                    status=query_result[row_count][col_count]\n                    result=org_task_status(status,xml_parent.get("name"))\n                    print_result(field_text,result,xml_child)\n\n                elif (col_count%int(length)==2) & (xml_parent.get("name")==status_list[6]):\n                    status=query_result[row_count][col_count]\n                    result=host_status(status)\n                    print_result(field_text,result,xml_child)\n\t\t\t\t\t\t\n                else:\n                    result=query_result[row_count][col_count]\n                    print_result(field_text,result,xml_child)\n                col_count+=1\n                if col_count%int(length)==0:\n                    row_count+=1\n                    col_count=0\t\n    return\n\ndef isCheckTable(driver, xml_parent, xml_child, xml_sub_child):\n    field=driver.find_elements_by_xpath(xml_sub_child.get("path"))\n    query_result=execute_query(xml_parent.get("query3")).fetchall()\n    table=0\n    for header in field:\n        if query_result[table][0] in header.text:\n            table_path=xml_sub_child.text\n            if isElementPresent(driver,xml_child,table_path):\n                result_fetch=execute_query(xml_parent.get("query4")).fetchall()\n                no_of_cols=len(result_fetch[0])#calculate number of columns of query\n                field=driver.find_elements_by_xpath(xml_sub_child.text)\n                #print field.text\n                row_count=0\n                col_count=0\n                for col in field:\n                    field_text=col.text\n                    if field_text!="":\n                        result=result_fetch[row_count][col_count]\n                        print_result(field_text,result,xml_child)\n                        col_count+=1\n                        if col_count%int(no_of_cols)==0:\n                            row_count+=1\n                            col_count=0\t\t\n        table=table+1\n    return\n\n   \ndef isCheckdata(driver,vm_name,xml_parent, xml_child, xml_sub_child):\n    print vm_name\n    table_path=xml_sub_child.text\n    if isElementPresent(driver,xml_child,table_path):\n        print "in"\n        driver.refresh()\n        field=driver.find_elements_by_xpath(xml_sub_child.text)#data from gui\n        query_result=execute_query( xml_sub_child.get("query3")).fetchone()\n        result=query_result[1]\n        for a in field:\n            row=a.text\n            if (str(vm_name) in row) | (str(query_result[0]) in row):\n                logger.debug("report"  +\': Result:Correct Flow\') #logging the report\n                id=xml_sub_child.get("id")\n                if id=="settings":\n                     driver.find_element_by_xpath("//*[@href=\'/baadal/user/"+ str(id) +"/"+ str(result) +"\']").click()\n                if "Approve  |  Reject" in row:\n                    if xml_sub_child.get("click")=="Approve":\n                        print "in1"\n                        print result\n                        print id\n                        driver.find_element_by_xpath("//*[@href=\'/baadal/"+ str(id) +"/approve_request/"+ str(result) +"\']").click()\n                    else:\n                        driver.find_element_by_xpath("//*[@href=\'/baadal/"+ str(id) +"/reject_request/"+ str(result) +"\']").click()\n    return\n'
p7
sS'snapshot'
p8
(dp9
S'exception'
p10
(dp11
S'__getslice__'
p12
S"<method-wrapper '__getslice__' of exceptions.SyntaxError object>"
p13
sS'text'
p14
S"'break\\n'"
p15
sS'__str__'
p16
S"<method-wrapper '__str__' of exceptions.SyntaxError object>"
p17
sS'__reduce__'
p18
S'<built-in method __reduce__ of exceptions.SyntaxError object>'
p19
sS'__dict__'
p20
S'{}'
p21
sS'__sizeof__'
p22
S'<built-in method __sizeof__ of exceptions.SyntaxError object>'
p23
sS'__init__'
p24
S"<method-wrapper '__init__' of exceptions.SyntaxError object>"
p25
sS'__setattr__'
p26
S"<method-wrapper '__setattr__' of exceptions.SyntaxError object>"
p27
sS'__reduce_ex__'
p28
S'<built-in method __reduce_ex__ of exceptions.SyntaxError object>'
p29
sS'__new__'
p30
S'<built-in method __new__ of type object>'
p31
sS'__format__'
p32
S'<built-in method __format__ of exceptions.SyntaxError object>'
p33
sS'__class__'
p34
S"<type 'exceptions.SyntaxError'>"
p35
sS'filename'
p36
S"'/home/baadalvm/Desktop/web2py/applications/testapp/models/test.py'"
p37
sS'lineno'
p38
S'534'
p39
sS'msg'
p40
S'"\'break\' outside loop"'
p41
sS'__doc__'
p42
S"'Invalid syntax.'"
p43
sS'__getitem__'
p44
S"<method-wrapper '__getitem__' of exceptions.SyntaxError object>"
p45
sS'__setstate__'
p46
S'<built-in method __setstate__ of exceptions.SyntaxError object>'
p47
sS'__getattribute__'
p48
S"<method-wrapper '__getattribute__' of exceptions.SyntaxError object>"
p49
sS'print_file_and_line'
p50
S'None'
p51
sS'args'
p52
S'("\'break\' outside loop", (\'/home/baadalvm/Desktop/web2py/applications/testapp/models/test.py\', 534, None, \'break\\n\'))'
p53
sS'__subclasshook__'
p54
S'<built-in method __subclasshook__ of type object>'
p55
sS'offset'
p56
S'None'
p57
sS'__unicode__'
p58
S'<built-in method __unicode__ of exceptions.SyntaxError object>'
p59
sS'__delattr__'
p60
S"<method-wrapper '__delattr__' of exceptions.SyntaxError object>"
p61
sS'__repr__'
p62
S"<method-wrapper '__repr__' of exceptions.SyntaxError object>"
p63
sS'__hash__'
p64
S"<method-wrapper '__hash__' of exceptions.SyntaxError object>"
p65
ssS'evalue'
p66
S"'break' outside loop (test.py, line 534)"
p67
sS'request'
p68
cgluon.html
XML_unpickle
p69
(S's\xe3R\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top">ajax</td><td valign="top">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">application</td><td valign="top">:</td><td><div>testapp</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">args</td><td valign="top">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">body</td><td valign="top">:</td><td><div>&lt;cStringIO.StringO object at 0x7fca183736f8&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">cid</td><td valign="top">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">client</td><td valign="top">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">controller</td><td valign="top">:</td><td><div>default</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">cookies</td><td valign="top">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top">session_id_admin</td><td valign="top">:</td><td><div>127.0.0.1-f101de02-6806-4be6-b500-42e401a04fbc<table><tr><td style="font-weight:bold;vertical-align:top">comment</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">domain</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">expires</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">httponly</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">max-age</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">path</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">secure</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">version</td><td valign="top">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">session_id_testapp</td><td valign="top">:</td><td><div>127.0.0.1-4632f7ff-6f75-4705-9f29-2614f0b8a325<table><tr><td style="font-weight:bold;vertical-align:top">comment</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">domain</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">expires</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">httponly</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">max-age</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">path</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">secure</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">version</td><td valign="top">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">session_id_welcome</td><td valign="top">:</td><td><div>127.0.0.1-65ea75b2-7956-4821-b2b3-abc1d5eab8b6<table><tr><td style="font-weight:bold;vertical-align:top">comment</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">domain</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">expires</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">httponly</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">max-age</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">path</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">secure</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">version</td><td valign="top">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">env</td><td valign="top">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top">app_folders</td><td valign="top">:</td><td><div>set([&#x27;/home/baadalvm/Desktop/web2py/applications/testapp/&#x27;, &#x27;/home/baadalvm/Desktop/web2py/applications/admin/&#x27;, &#x27;/home/baadalvm/Desktop/web2py/applications/welcome/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">applications_parent</td><td valign="top">:</td><td><div>/home/baadalvm/Desktop/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">cmd_args</td><td valign="top">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">cmd_options</td><td valign="top">:</td><td><div>&lt;Values at 0x1ab4998: {&#x27;verbose&#x27;: False, &#x27;ip&#x27;: &#x27;127.0.0.1&#x27;, &#x27;with_scheduler&#x27;: False, &#x27;ips&#x27;: [&#x27;127.0.1.1&#x27;], &#x27;shutdown_timeout&#x27;: 5, &#x27;taskbar&#x27;: False, &#x27;with_coverage&#x27;: False, &#x27;port&#x27;: 8000, &#x27;maxthreads&#x27;: None, &#x27;softcron&#x27;: False, &#x27;server_name&#x27;: &#x27;baadalvm&#x27;, &#x27;bpython&#x27;: False, &#x27;nogui&#x27;: False, &#x27;pid_filename&#x27;: &#x27;httpserver.pid&#x27;, &#x27;extcron&#x27;: False, &#x27;runcron&#x27;: False, &#x27;run_system_tests&#x27;: False, &#x27;test&#x27;: None, &#x27;folder&#x27;: &#x27;/home/baadalvm/Desktop/web2py&#x27;, &#x27;config&#x27;: &#x27;&#x27;, &#x27;minthreads&#x27;: None, &#x27;winservice&#x27;: &#x27;&#x27;, &#x27;shell&#x27;: None, &#x27;run&#x27;: &#x27;&#x27;, &#x27;log_filename&#x27;: &#x27;httpserver.log&#x27;, &#x27;debuglevel&#x27;: 30, &#x27;args&#x27;: [&#x27;&#x27;], &#x27;socket_timeout&#x27;: 5, &#x27;ssl_ca_certificate&#x27;: None, &#x27;scheduler&#x27;: None, &#x27;profiler_filename&#x27;: None, &#x27;ssl_private_key&#x27;: &#x27;&#x27;, &#x27;scheduler_groups&#x27;: None, &#x27;password&#x27;: &#x27;&lt;ask&gt;&#x27;, &#x27;request_queue_size&#x27;: 5, &#x27;ssl_certificate&#x27;: &#x27;&#x27;, &#x27;cronjob&#x27;: False, &#x27;numthreads&#x27;: None, &#x27;quiet&#x27;: False, &#x27;interfaces&#x27;: None, &#x27;import_models&#x27;: False, &#x27;timeout&#x27;: 10, &#x27;plain&#x27;: False, &#x27;nobanner&#x27;: False}&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">db_sessions</td><td valign="top">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">debugging</td><td valign="top">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">gluon_parent</td><td valign="top">:</td><td><div>/home/baadalvm/Desktop/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">http_accept</td><td valign="top">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">http_accept_encoding</td><td valign="top">:</td><td><div>gzip, deflate</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">http_accept_language</td><td valign="top">:</td><td><div>en-US,en;q=0.5</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">http_connection</td><td valign="top">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">http_cookie</td><td valign="top">:</td><td><div>session_id_welcome=127.0.0.1-65ea75b2-7956-4821-b2b3-abc1d5eab8b6; session_id_testapp=127.0.0.1-4632f7ff-6f75-4705-9f29-2614f0b8a325; session_id_admin=127.0.0.1-f101de02-6806-4be6-b500-42e401a04fbc</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">http_host</td><td valign="top">:</td><td><div>127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">http_user_agent</td><td valign="top">:</td><td><div>Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:20.0) Gecko/20100101 Firefox/20.0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">is_jython</td><td valign="top">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">is_pypy</td><td valign="top">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">local_hosts</td><td valign="top">:</td><td><div><table><tr><td><div>::1</div></td></tr><tr><td><div>127.0.1.1</div></td></tr><tr><td><div>baadalvm</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">path_info</td><td valign="top">:</td><td><div>/testapp/default/unit_testing</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">query_string</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">remote_addr</td><td valign="top">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">remote_port</td><td valign="top">:</td><td><div>56326</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">request_method</td><td valign="top">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">request_uri</td><td valign="top">:</td><td><div>/testapp/default/unit_testing</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">script_name</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">server_name</td><td valign="top">:</td><td><div>baadalvm</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">server_port</td><td valign="top">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">server_protocol</td><td valign="top">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">server_software</td><td valign="top">:</td><td><div>Rocket 1.2.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">web2py_path</td><td valign="top">:</td><td><div>/home/baadalvm/Desktop/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">web2py_version</td><td valign="top">:</td><td><div>2.5.1-stable+timestamp.2013.06.06.15.39.19</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">wsgi_errors</td><td valign="top">:</td><td><div>&lt;open file &#x27;&lt;stderr&gt;&#x27;, mode &#x27;w&#x27; at 0x7fca3354a270&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">wsgi_file_wrapper</td><td valign="top">:</td><td><div>&lt;class wsgiref.util.FileWrapper at 0x1a37668&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">wsgi_input</td><td valign="top">:</td><td><div>&lt;socket._fileobject object at 0x7fca1c2ba850&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">wsgi_multiprocess</td><td valign="top">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">wsgi_multithread</td><td valign="top">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">wsgi_run_once</td><td valign="top">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">wsgi_url_scheme</td><td valign="top">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">wsgi_version</td><td valign="top">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">extension</td><td valign="top">:</td><td><div>html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">folder</td><td valign="top">:</td><td><div>/home/baadalvm/Desktop/web2py/applications/testapp/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">function</td><td valign="top">:</td><td><div>unit_testing</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">get_vars</td><td valign="top">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">global_settings</td><td valign="top">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top">app_folders</td><td valign="top">:</td><td><div>set([&#x27;/home/baadalvm/Desktop/web2py/applications/testapp/&#x27;, &#x27;/home/baadalvm/Desktop/web2py/applications/admin/&#x27;, &#x27;/home/baadalvm/Desktop/web2py/applications/welcome/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">applications_parent</td><td valign="top">:</td><td><div>/home/baadalvm/Desktop/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">cmd_args</td><td valign="top">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">cmd_options</td><td valign="top">:</td><td><div>&lt;Values at 0x1ab4998: {&#x27;verbose&#x27;: False, &#x27;ip&#x27;: &#x27;127.0.0.1&#x27;, &#x27;with_scheduler&#x27;: False, &#x27;ips&#x27;: [&#x27;127.0.1.1&#x27;], &#x27;shutdown_timeout&#x27;: 5, &#x27;taskbar&#x27;: False, &#x27;with_coverage&#x27;: False, &#x27;port&#x27;: 8000, &#x27;maxthreads&#x27;: None, &#x27;softcron&#x27;: False, &#x27;server_name&#x27;: &#x27;baadalvm&#x27;, &#x27;bpython&#x27;: False, &#x27;nogui&#x27;: False, &#x27;pid_filename&#x27;: &#x27;httpserver.pid&#x27;, &#x27;extcron&#x27;: False, &#x27;runcron&#x27;: False, &#x27;run_system_tests&#x27;: False, &#x27;test&#x27;: None, &#x27;folder&#x27;: &#x27;/home/baadalvm/Desktop/web2py&#x27;, &#x27;config&#x27;: &#x27;&#x27;, &#x27;minthreads&#x27;: None, &#x27;winservice&#x27;: &#x27;&#x27;, &#x27;shell&#x27;: None, &#x27;run&#x27;: &#x27;&#x27;, &#x27;log_filename&#x27;: &#x27;httpserver.log&#x27;, &#x27;debuglevel&#x27;: 30, &#x27;args&#x27;: [&#x27;&#x27;], &#x27;socket_timeout&#x27;: 5, &#x27;ssl_ca_certificate&#x27;: None, &#x27;scheduler&#x27;: None, &#x27;profiler_filename&#x27;: None, &#x27;ssl_private_key&#x27;: &#x27;&#x27;, &#x27;scheduler_groups&#x27;: None, &#x27;password&#x27;: &#x27;&lt;ask&gt;&#x27;, &#x27;request_queue_size&#x27;: 5, &#x27;ssl_certificate&#x27;: &#x27;&#x27;, &#x27;cronjob&#x27;: False, &#x27;numthreads&#x27;: None, &#x27;quiet&#x27;: False, &#x27;interfaces&#x27;: None, &#x27;import_models&#x27;: False, &#x27;timeout&#x27;: 10, &#x27;plain&#x27;: False, &#x27;nobanner&#x27;: False}&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">db_sessions</td><td valign="top">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">debugging</td><td valign="top">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">gluon_parent</td><td valign="top">:</td><td><div>/home/baadalvm/Desktop/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">is_jython</td><td valign="top">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">is_pypy</td><td valign="top">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">local_hosts</td><td valign="top">:</td><td><div><table><tr><td><div>::1</div></td></tr><tr><td><div>127.0.1.1</div></td></tr><tr><td><div>baadalvm</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">web2py_version</td><td valign="top">:</td><td><div>2.5.1-stable+timestamp.2013.06.06.15.39.19</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">is_https</td><td valign="top">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">is_local</td><td valign="top">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">is_restful</td><td valign="top">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">now</td><td valign="top">:</td><td><div>datetime.datetime(2013, 9, 19, 11, 8, 23, 492210)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">post_vars</td><td valign="top">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">raw_args</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">raw_extension</td><td valign="top">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">url</td><td valign="top">:</td><td><div>/testapp/default/unit_testing</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">utcnow</td><td valign="top">:</td><td><div>datetime.datetime(2013, 9, 19, 5, 38, 23, 492286)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">uuid</td><td valign="top">:</td><td><div>testapp/127.0.0.1.2013-09-19.11-08-23.70c1bf83-d396-4582-b632-a8ddc6f1b3cf</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">vars</td><td valign="top">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">wsgi</td><td valign="top">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top">environ</td><td valign="top">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top">HTTP_ACCEPT</td><td valign="top">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">HTTP_ACCEPT_ENCODING</td><td valign="top">:</td><td><div>gzip, deflate</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">HTTP_ACCEPT_LANGUAGE</td><td valign="top">:</td><td><div>en-US,en;q=0.5</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">HTTP_CONNECTION</td><td valign="top">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">HTTP_COOKIE</td><td valign="top">:</td><td><div>session_id_welcome=127.0.0.1-65ea75b2-7956-4821-b2b3-abc1d5eab8b6; session_id_testapp=127.0.0.1-4632f7ff-6f75-4705-9f29-2614f0b8a325; session_id_admin=127.0.0.1-f101de02-6806-4be6-b500-42e401a04fbc</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">HTTP_HOST</td><td valign="top">:</td><td><div>127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">HTTP_USER_AGENT</td><td valign="top">:</td><td><div>Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:20.0) Gecko/20100101 Firefox/20.0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">PATH_INFO</td><td valign="top">:</td><td><div>/testapp/default/unit_testing</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">QUERY_STRING</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">REMOTE_ADDR</td><td valign="top">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">REMOTE_PORT</td><td valign="top">:</td><td><div>56326</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">REQUEST_METHOD</td><td valign="top">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">REQUEST_URI</td><td valign="top">:</td><td><div>/testapp/default/unit_testing</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">SCRIPT_NAME</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">SERVER_NAME</td><td valign="top">:</td><td><div>baadalvm</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">SERVER_PORT</td><td valign="top">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">SERVER_PROTOCOL</td><td valign="top">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">SERVER_SOFTWARE</td><td valign="top">:</td><td><div>Rocket 1.2.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">wsgi.errors</td><td valign="top">:</td><td><div>&lt;open file &#x27;&lt;stderr&gt;&#x27;, mode &#x27;w&#x27; at 0x7fca3354a270&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">wsgi.file_wrapper</td><td valign="top">:</td><td><div>&lt;class wsgiref.util.FileWrapper at 0x1a37668&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">wsgi.input</td><td valign="top">:</td><td><div>&lt;cStringIO.StringO object at 0x7fca183736f8&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">wsgi.multiprocess</td><td valign="top">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">wsgi.multithread</td><td valign="top">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">wsgi.run_once</td><td valign="top">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">wsgi.url_scheme</td><td valign="top">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">wsgi.version</td><td valign="top">:</td><td><div>1</div></td></tr></table></div></td></tr></table></div></td></tr></table></div>'
tRp70
sS'frames'
p71
(lp72
(dp73
S'file'
p74
S'/home/baadalvm/Desktop/web2py/gluon/restricted.py'
p75
sS'dump'
p76
(dp77
S'code'
p78
S'\'# coding: utf8\\nimport os\\nimport thread\\nimport lo...request/"+ str(result) +"\\\']").click()\\n    return\\n\''
p79
sS'layer'
p80
S"'/home/baadalvm/Desktop/web2py/applications/testapp/models/test.py'"
p81
sS'global compile2'
p82
S'<function compile2>'
p83
sS'ccode'
p84
S'undefined'
p85
ssS'lnum'
p86
I211
sS'lines'
p87
(dp88
I206
S"    environment['__name__'] = '__restricted__'"
p89
sI207
S'    try:'
p90
sI208
S'        if isinstance(code, types.CodeType):'
p91
sI209
S'            ccode = code'
p92
sI210
S'        else:'
p93
sI211
S'            ccode = compile2(code, layer)'
p94
sI212
S'        exec ccode in environment'
p95
sI213
S'    except HTTP:'
p96
sI214
S'        raise'
p97
sI215
S'    except RestrictedError:'
p98
ssS'call'
p99
S'(code=\'# coding: utf8\\nimport os\\nimport thread\\nimport lo...request/"+ str(result) +"\\\']").click()\\n    return\\n\', environment={\'A\': <class \'gluon.html.A\'>, \'ANY_OF\': <class \'gluon.validators.ANY_OF\'>, \'Auth\': <class \'gluon.tools.Auth\'>, \'B\': <class \'gluon.html.B\'>, \'BEAUTIFY\': <class \'gluon.html.BEAUTIFY\'>, \'BODY\': <class \'gluon.html.BODY\'>, \'BR\': <class \'gluon.html.BR\'>, \'BUTTON\': <class \'gluon.html.BUTTON\'>, \'CAT\': <class \'gluon.html.CAT\'>, \'CENTER\': <class \'gluon.html.CENTER\'>, ...}, layer=\'/home/baadalvm/Desktop/web2py/applications/testapp/models/test.py\')'
p100
sS'func'
p101
S'restricted'
p102
sa(dp103
g74
S'/home/baadalvm/Desktop/web2py/gluon/restricted.py'
p104
sg76
(dp105
S'builtincompile'
p106
S'<built-in function compile>'
p107
sS'code'
p108
S'\'# coding: utf8\\nimport os\\nimport thread\\nimport lo...request/"+ str(result) +"\\\']").click()\\n    return\\n\''
p109
sS'code.rstrip'
p110
S'<built-in method rstrip of str object>'
p111
sS').replace'
p112
g85
sS'layer'
p113
S"'/home/baadalvm/Desktop/web2py/applications/testapp/models/test.py'"
p114
ssg86
I194
sg87
(dp115
I192
S"    The +'\\n' is necessary else compile fails when code ends in a comment."
p116
sI193
S'    """'
p117
sI194
S"    return compile(code.rstrip().replace('\\r\\n', '\\n') + '\\n', layer, 'exec')"
p118
sI195
S''
sI196
S''
sI197
S"def restricted(code, environment=None, layer='Unknown'):"
p119
sI198
S'    """'
p120
sI189
S''
sI190
S'def compile2(code, layer):'
p121
sI191
S'    """'
p122
ssg99
S'(code=\'# coding: utf8\\nimport os\\nimport thread\\nimport lo...request/"+ str(result) +"\\\']").click()\\n    return\\n\', layer=\'/home/baadalvm/Desktop/web2py/applications/testapp/models/test.py\')'
p123
sg101
S'compile2'
p124
sasS'pyver'
p125
S'Python 2.7.3: /usr/bin/python (prefix: /usr)'
p126
sS'session'
p127
g69
(S's\x1a\x00\x00\x00<div><table></table></div>'
tRp128
sS'etype'
p129
S"<type 'exceptions.SyntaxError'>"
p130
sS'date'
p131
S'Thu Sep 19 11:08:23 2013'
p132
sS'response'
p133
g69
(S's\xa4,\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top">body</td><td valign="top">:</td><td><div>&lt;cStringIO.StringO object at 0x7fca18373a78&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">cookies</td><td valign="top">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top">session_id_testapp</td><td valign="top">:</td><td><div>127.0.0.1-4632f7ff-6f75-4705-9f29-2614f0b8a325<table><tr><td style="font-weight:bold;vertical-align:top">comment</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">domain</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">expires</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">httponly</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">max-age</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">path</td><td valign="top">:</td><td><div>/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">secure</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">version</td><td valign="top">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">delimiters</td><td valign="top">:</td><td><div><table><tr><td><div>{{</div></td></tr><tr><td><div>}}</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">files</td><td valign="top">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">flash</td><td valign="top">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">generic_patterns</td><td valign="top">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">google_analytics_id</td><td valign="top">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">headers</td><td valign="top">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top">X-Powered-By</td><td valign="top">:</td><td><div>web2py</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">logo</td><td valign="top">:</td><td><div><a class="brand" href="http://www.web2py.com/"><b>web<span>2</span>py</b>&trade;&nbsp;</a></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">menu</td><td valign="top">:</td><td><div><table><tr><td><div><table><tr><td><div>Home</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/testapp/default/index</div></td></tr><tr><td><div><table></table></div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div><span class="highlighted">web2py</span></div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://web2py.com</div></td></tr><tr><td><div><table><tr><td><div><table><tr><td><div>My Sites</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/site</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>This App</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/design/testapp</div></td></tr><tr><td><div>[(&lt;lazyT &#x27;Controller&#x27;&gt;, False, &#x27;/admin/default/edit/testapp/controllers/default.py&#x27;), (&lt;lazyT &#x27;View&#x27;&gt;, False, &#x27;/admin/default/edit/testapp/views/default/unit_testing.html&#x27;), (&lt;lazyT &#x27;Layout&#x27;&gt;, False, &#x27;/admin/default/edit/testapp/views/layout.html&#x27;), (&lt;lazyT &#x27;Stylesheet&#x27;&gt;, False, &#x27;/admin/default/edit/testapp/static/css/web2py.css&#x27;), (&lt;lazyT &#x27;DB Model&#x27;&gt;, False, &#x27;/admin/default/edit/testapp/models/db.py&#x27;), (&lt;lazyT &#x27;Menu Model&#x27;&gt;, False, &#x27;/admin/default/edit/testapp/models/menu.py&#x27;), (&lt;lazyT &#x27;Database&#x27;&gt;, False, &#x27;/testapp/appadmin/index&#x27;), (&lt;lazyT &#x27;Errors&#x27;&gt;, False, &#x27;/admin/default/errors/testapp&#x27;), (&lt;lazyT &#x27;About&#x27;&gt;, False, &#x27;/admin/default/about/testapp&#x27;)]</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>web2py.com</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com</div></td></tr><tr><td><div>[(&lt;lazyT &#x27;Download&#x27;&gt;, False, &#x27;http://www.web2py.com/examples/default/download&#x27;), (&lt;lazyT &#x27;Support&#x27;&gt;, False, &#x27;http://www.web2py.com/examples/default/support&#x27;), (&lt;lazyT &#x27;Demo&#x27;&gt;, False, &#x27;http://web2py.com/demo_admin&#x27;), (&lt;lazyT &#x27;Quick Examples&#x27;&gt;, False, &#x27;http://web2py.com/examples/default/examples&#x27;), (&lt;lazyT &#x27;FAQ&#x27;&gt;, False, &#x27;http://web2py.com/AlterEgo&#x27;), (&lt;lazyT &#x27;Videos&#x27;&gt;, False, &#x27;http://www.web2py.com/examples/default/videos/&#x27;), (&lt;lazyT &#x27;Free Applications&#x27;&gt;, False, &#x27;http://web2py.com/appliances&#x27;), (&lt;lazyT &#x27;Plugins&#x27;&gt;, False, &#x27;http://web2py.com/plugins&#x27;), (&lt;lazyT &#x27;Layouts&#x27;&gt;, False, &#x27;http://web2py.com/layouts&#x27;), (&lt;lazyT &#x27;Recipes&#x27;&gt;, False, &#x27;http://web2pyslices.com/&#x27;), (&lt;lazyT &#x27;Semantic&#x27;&gt;, False, &#x27;http://web2py.com/semantic&#x27;)]</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Documentation</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>http://www.web2py.com/book</div></td></tr><tr><td><div>[(&lt;lazyT &#x27;Preface&#x27;&gt;, False, &#x27;http://www.web2py.com/book/default/chapter/00&#x27;), (&lt;lazyT &#x27;Introduction&#x27;&gt;, False, &#x27;http://www.web2py.com/book/default/chapter/01&#x27;), (&lt;lazyT &#x27;Python&#x27;&gt;, False, &#x27;http://www.web2py.com/book/default/chapter/02&#x27;), (&lt;lazyT &#x27;Overview&#x27;&gt;, False, &#x27;http://www.web2py.com/book/default/chapter/03&#x27;), (&lt;lazyT &#x27;The Core&#x27;&gt;, False, &#x27;http://www.web2py.com/book/default/chapter/04&#x27;), (&lt;lazyT &#x27;The Views&#x27;&gt;, False, &#x27;http://www.web2py.com/book/default/chapter/05&#x27;), (&lt;lazyT &#x27;Database&#x27;&gt;, False, &#x27;http://www.web2py.com/book/default/chapter/06&#x27;), (&lt;lazyT &#x27;Forms and Validators&#x27;&gt;, False, &#x27;http://www.web2py.com/book/default/chapter/07&#x27;), (&lt;lazyT &#x27;Email and SMS&#x27;&gt;, False, &#x27;http://www.web2py.com/book/default/chapter/08&#x27;), (&lt;lazyT &#x27;Access Control&#x27;&gt;, False, &#x27;http://www.web2py.com/book/default/chapter/09&#x27;), (&lt;lazyT &#x27;Services&#x27;&gt;, False, &#x27;http://www.web2py.com/book/default/chapter/10&#x27;), (&lt;lazyT &#x27;Ajax Recipes&#x27;&gt;, False, &#x27;http://www.web2py.com/book/default/chapter/11&#x27;), (&lt;lazyT &#x27;Components and Plugins&#x27;&gt;, False, &#x27;http://www.web2py.com/book/default/chapter/12&#x27;), (&lt;lazyT &#x27;Deployment Recipes&#x27;&gt;, False, &#x27;http://www.web2py.com/book/default/chapter/13&#x27;), (&lt;lazyT &#x27;Other Recipes&#x27;&gt;, False, &#x27;http://www.web2py.com/book/default/chapter/14&#x27;), (&lt;lazyT &#x27;Buy this book&#x27;&gt;, False, &#x27;http://stores.lulu.com/web2py&#x27;)]</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Community</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>None</div></td></tr><tr><td><div>[(&lt;lazyT &#x27;Groups&#x27;&gt;, False, &#x27;http://www.web2py.com/examples/default/usergroups&#x27;), (&lt;lazyT &#x27;Twitter&#x27;&gt;, False, &#x27;http://twitter.com/web2py&#x27;), (&lt;lazyT &#x27;Live Chat&#x27;&gt;, False, &#x27;http://webchat.freenode.net/?channels=web2py&#x27;)]</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Plugins</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>None</div></td></tr><tr><td><div>[(&#x27;plugin_wiki&#x27;, False, &#x27;http://web2py.com/examples/default/download&#x27;), (&lt;lazyT &#x27;Other Plugins&#x27;&gt;, False, &#x27;http://web2py.com/plugins&#x27;), (&lt;lazyT &#x27;Layout Plugins&#x27;&gt;, False, &#x27;http://web2py.com/layouts&#x27;)]</div></td></tr></table></div></td></tr></table></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">meta</td><td valign="top">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top">author</td><td valign="top">:</td><td><div>Your Name &lt;you@example.com&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">description</td><td valign="top">:</td><td><div>a cool new app</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">generator</td><td valign="top">:</td><td><div>Web2py Web Framework</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">keywords</td><td valign="top">:</td><td><div>web2py, python, framework</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">models_to_run</td><td valign="top">:</td><td><div><table><tr><td><div>^\\w+\\.py$</div></td></tr><tr><td><div>^default/\\w+\\.py$</div></td></tr><tr><td><div>^default/unit_testing/\\w+\\.py$</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">postprocessing</td><td valign="top">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top">session_cookie_expires</td><td valign="top">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">session_data_name</td><td valign="top">:</td><td><div>session_data_testapp</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">session_file</td><td valign="top">:</td><td><div>&lt;open file &#x27;/home/baadalvm/Desktop/web2py/applications/testapp/sessions/127.0.0.1-4632f7ff-6f75-4705-9f29-2614f0b8a325&#x27;, mode &#x27;rb+&#x27; at 0x7fca18376270&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">session_filename</td><td valign="top">:</td><td><div>/home/baadalvm/Desktop/web2py/applications/testapp/sessions/127.0.0.1-4632f7ff-6f75-4705-9f29-2614f0b8a325</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">session_id</td><td valign="top">:</td><td><div>127.0.0.1-4632f7ff-6f75-4705-9f29-2614f0b8a325</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">session_id_name</td><td valign="top">:</td><td><div>session_id_testapp</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">session_locked</td><td valign="top">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">session_new</td><td valign="top">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">session_storage_type</td><td valign="top">:</td><td><div>file</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">status</td><td valign="top">:</td><td><div>200</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">subtitle</td><td valign="top">:</td><td><div>customize me!</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">title</td><td valign="top">:</td><td><div>Testapp</div></td></tr><tr><td style="font-weight:bold;vertical-align:top">view</td><td valign="top">:</td><td><div>default/unit_testing.html</div></td></tr></table></div>'
tRp134
sS'locals'
p135
(dp136
g4
S"'/home/baadalvm/Desktop/web2py/applications/testapp/models/test.py'"
p137
sg6
S'\'# coding: utf8\\nimport os\\nimport thread\\nimport lo...request/"+ str(result) +"\\\']").click()\\n    return\\n\''
p138
sssS'traceback'
p139
S'Traceback (most recent call last):\n  File "/home/baadalvm/Desktop/web2py/gluon/restricted.py", line 211, in restricted\n    ccode = compile2(code, layer)\n  File "/home/baadalvm/Desktop/web2py/gluon/restricted.py", line 194, in compile2\n    return compile(code.rstrip().replace(\'\\r\\n\', \'\\n\') + \'\\n\', layer, \'exec\')\n  File "/home/baadalvm/Desktop/web2py/applications/testapp/models/test.py", line 534\n    break\nSyntaxError: \'break\' outside loop\n'
p140
s.