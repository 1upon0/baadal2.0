#Generated by Kickstart Configurator
#platform=AMD64 or Intel EM64T

#System language
lang en_US
#Language modules to install
langsupport en_US
#System keyboard
keyboard us
#System mouse
mouse
#System timezone
timezone Asia/Kolkata
#Root password
rootpw --disabled
#Initial user
user baadal --fullname "Baadal" --iscrypted --password $1$zxAMDwHU$YW9tTckw0lwxRrdWK8.921
#Reboot after installation
reboot
#Use text mode install
text
#Install OS instead of upgrade
install
#Use CDROM installation media
cdrom
#System bootloader configuration
bootloader --location=mbr 
#Clear the Master Boot Record
zerombr yes
#Partition clearing information
clearpart --all --initlabel 
#Disk partitioning information
part swap --recommended 
part / --fstype ext4 --size 1 --grow 
#System authorization infomation
auth  --useshadow  --enablemd5 
#Network information
## This is connected to WAN (public) network. (This should acquire IP from the WAN DHCP server).
##network --bootproto=static --ip=192.168.1.51 --netmask=255.255.255.0 --gateway=192.168.1.1 --nameserver=10.10.1.2 --device=eth1
## This is connected to LAN (private) network.
network --bootproto=static --ip=10.209.0.1 --netmask=255.255.0.0 --gateway=10.209.0.1 --nameserver=10.10.1.2 --device=eth0
#Firewall configuration
firewall --disabled 
#Do not configure the X Window System
skipx
#Package install information
%packages
openssh-server
%post
echo '# This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).

# The loopback network interface
auto lo
iface lo inet loopback

# The private network interface
auto eth0
iface eth0 inet static
	address 10.209.0.1
	netmask 255.255.0.0
	network 10.209.0.0
	broadcast 10.209.255.255
	gateway 10.209.0.1
	# dns-* options are implemented by the resolvconf package, if installed
	dns-nameservers 10.10.1.2

# The public network interface
auto eth1
iface eth1 inet dhcp
#iface eth1 inet static
#	address 192.168.1.51
#	netmask 255.255.255.0
#	network 192.168.1.0
#	broadcast 192.168.1.155
#	gateway 192.168.1.1
#	# dns-* options are implemented by the resolvconf package, if installed
#	dns-nameservers 10.10.1.2
' > /etc/network/interfaces
sed -i '/#net.ipv4.ip_forward=1/c\net.ipv4.ip_forward=1' /etc/sysctl.conf
